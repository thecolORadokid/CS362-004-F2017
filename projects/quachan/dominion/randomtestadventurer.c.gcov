        -:    0:Source:randomtestadventurer.c
        -:    0:Graph:randomtestadventurer.gcno
        -:    0:Data:randomtestadventurer.gcda
        -:    0:Runs:1
        -:    0:Programs:1
        -:    1:#include "dominion_helpers.h"
        -:    2:#include <string.h>
        -:    3:#include <stdio.h>
        -:    4:#include <assert.h>
        -:    5:#include "rngs.h"
        -:    6:#include <stdlib.h>
        -:    7:#include <time.h>
        -:    8:
function checkAdventurer called 20000 returned 100% blocks executed 86%
    20000:    9:int checkAdventurer(int currentPlayer, struct gameState *state, int handPos, int drawntreasure, int seed, int initalHandCount) {
    20000:   10:	int result = adventurerCard(currentPlayer, state, handPos, drawntreasure);
call    0 returned 100%
    20000:   11:	assert(result == 0 && "Seed: %d, Failed to execute.\n");
branch  0 taken 0% (fallthrough)
branch  1 taken 100%
call    2 never executed
    20000:   12:	if (state->handCount[currentPlayer] != initalHandCount + 1) {
branch  0 taken 99% (fallthrough)
branch  1 taken 1%
    19935:   13:		printf("Seed: %d, test failed, incorrect number of cards in hand.\n", seed);
call    0 returned 100%
        -:   14:	}
        -:   15:	else {
       65:   16:		printf("Seed: %d, test passed.\n", seed);
call    0 returned 100%
        -:   17:	}
    20000:   18:}
        -:   19:
function main called 1 returned 100% blocks executed 100%
        1:   20:int main() {
        1:   21:	srand(time(NULL));
call    0 returned 100%
call    1 returned 100%
        -:   22:	int i, j, n, seed, initialHandCount;
        1:   23:	int thisPlayer = 0;
        1:   24:	int numTests = 20000;
        1:   25:	int k[10] = { adventurer, gardens, embargo, village, minion, mine, cutpurse,
        -:   26:		sea_hag, tribute, smithy };
        -:   27:
        1:   28:	printf("Testing Adventurer...\n");
call    0 returned 100%
        -:   29:	struct gameState G;
        -:   30:
    20001:   31:	for (n = 0; n < numTests; n++) {
branch  0 taken 99%
branch  1 taken 1% (fallthrough)
    20000:   32:		seed = rand() % RAND_MAX;
call    0 returned 100%
    20000:   33:		initializeGame(2, k, seed, &G);
call    0 returned 100%
    20000:   34:		G.handCount[thisPlayer] = rand() % MAX_HAND + 1 ;
call    0 returned 100%
    20000:   35:		initialHandCount = G.handCount[thisPlayer];
    20000:   36:		G.deckCount[thisPlayer] = rand() % MAX_DECK + 1;
call    0 returned 100%
    20000:   37:		int adventurerPos = rand() % G.handCount[thisPlayer];
call    0 returned 100%
  5035265:   38:		for (i = 0; i < G.handCount[thisPlayer]; i++) {
branch  0 taken 99%
branch  1 taken 1% (fallthrough)
  5015265:   39:			G.hand[thisPlayer][i] = rand() % (22) + 4;
call    0 returned 100%
        -:   40:		}
    20000:   41:		G.hand[thisPlayer][adventurerPos] = adventurer;
  5013381:   42:		for (j = 0; j < G.deckCount[thisPlayer]; j++) {
branch  0 taken 99%
branch  1 taken 1% (fallthrough)
  4993381:   43:			G.hand[thisPlayer][i] = rand() % (22) + 4;
call    0 returned 100%
        -:   44:		}
    20000:   45:		checkAdventurer(thisPlayer, &G, adventurerPos, 0, seed, initialHandCount);
call    0 returned 100%
        -:   46:	}
        1:   47:	return 0;
        -:   48:}
